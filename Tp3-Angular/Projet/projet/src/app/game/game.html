<section class="game-wrap" *ngIf="questions.length">
<div class="left">
<app-question
[question]="questions[currentIndex]"
[index]="currentIndex"
(selectOption)="onSelectOption($event, currentIndex)">
</app-question>


<!-- champ texte (si tu veux permettre la saisie) -->
<div class="text-answer" *ngIf="questions[currentIndex].type === 'text' || !questions[currentIndex].options">
<input [(ngModel)]="selectedTextAnswer" placeholder="Écrire votre réponse" />
<button (click)="submitTextAnswer(currentIndex)" [disabled]="answered.has(currentIndex)">Soumettre</button>
</div>


<div class="controls">
<button (click)="nextQuestion()" [disabled]="currentIndex >= questions.length - 1">Question suivante</button>
<button (click)="restart()">Recommencer</button>
</div>
</div>


<aside class="right">
<app-score [score]="score" [correct]="correctCount" [wrong]="wrongCount"></app-score>


<div class="timer">
<h4>Temps restant</h4>
<div class="circle">{{ timeLeft }}s</div>
</div>


<div class="progress">
Question {{ currentIndex + 1 }} / {{ questions.length }}
</div>
</aside>
</section>


<section *ngIf="currentIndex >= questions.length" class="end">
<h2>Quiz terminé</h2>
<p>Score final: {{ score }}</p>
<p>Bonnes réponses: {{ correctCount }} — Mauvaises: {{ wrongCount }}</p>
<button (click)="restart()">Relancer</button>
</section>